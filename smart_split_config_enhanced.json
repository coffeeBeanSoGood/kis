{
    "use_absolute_budget": true,
    "absolute_budget": 600000,
    "absolute_budget_strategy": "proportional",
    "initial_total_asset": 3261575.0,
    "performance_multiplier_range": [
        0.7,
        1.4
    ],
    "budget_loss_tolerance": 0.2,
    "safety_cash_ratio": 0.8,
    "bot_name": "SmartMagicSplitBot_Enhanced",
    "div_num": 5.0,
    "enhanced_buy_control": {
        "enable_adaptive_cooldown": true,
        "enable_sequential_validation": true,
        "enable_enhanced_order_tracking": true,
        "enable_broker_sync": true,
        "max_daily_buys_per_stock": 2,
        "order_timeout_seconds": 60,
        "sync_check_interval_minutes": 30
    },
    "dynamic_drop_requirements": {
        "enable": true,
        "base_drops": {
            "2": 0.04,
            "3": 0.048,
            "4": 0.058,
            "5": 0.07
        },
        "adjustment_factors": {
            "rsi_oversold_bonus": -0.015,
            "market_downtrend_bonus": -0.015,
            "market_uptrend_bonus": -0.01,
            "strong_uptrend_bonus": -0.015,
            "volatility_bonus": -0.008,
            "rsi_overbought_penalty": 0.005,
            "market_uptrend_penalty": 0.005
        }
    },
    "enhanced_stop_loss": {
        "enable": true,
        "description": "ìƒìŠ¹ì¥ ìµœì í™” ì ì‘í˜• ì†ì ˆ ì‹œìŠ¤í…œ",
        "adaptive_thresholds": {
            "position_1": -0.12,
            "position_2": -0.16,
            "position_3_plus": -0.2
        },
        "volatility_adjustment": {
            "high_volatility": -0.04,
            "medium_volatility": -0.02,
            "low_volatility": 0.0,
            "threshold_high": 6.0,
            "threshold_medium": 3.5
        },
        "time_based_rules": {
            "enable": true,
            "rules": {
                "90_day_threshold": -0.12,
                "180_day_threshold": -0.08,
                "365_day_threshold": -0.05
            }
        },
        "emergency_stop": {
            "enable": true,
            "total_portfolio_loss": -0.3,
            "consecutive_stops": 4,
            "daily_stop_limit": 2
        },
        "market_adjustment": {
            "enable": true,
            "kospi_based": true,
            "adjustments": {
                "strong_downtrend": -0.03,
                "downtrend": -0.015,
                "neutral": 0.0,
                "uptrend": 0.015,
                "strong_uptrend": 0.03
            }
        },
        "stock_specific_overrides": {
            "005930": {
                "position_1": -0.08,
                "position_2": -0.12,
                "position_3_plus": -0.16
            },
            "007660": {
                "position_1": -0.1,
                "position_2": -0.14,
                "position_3_plus": -0.18
            },
            "403870": {
                "position_1": -0.1,
                "position_2": -0.14,
                "position_3_plus": -0.18
            }
        },
        "execution_options": {
            "partial_stop_loss": false,
            "stop_loss_reason_logging": true,
            "discord_alert": true,
            "cooldown_after_stop": 24,
            "data_backup_before_stop": true
        }
    },
    "enhanced_downtrend_protection": {
        "enable": true,
        "description": "ì¶”ì„¸ì  í•˜ë½ ëŒ€ë¹„ ê°•í™” ì‹œìŠ¤í…œ",
        "trend_detection": {
            "enable": true,
            "kospi_ma_periods": [
                5,
                20,
                60
            ],
            "decline_threshold": {
                "mild_decline": -0.05,
                "moderate_decline": -0.1,
                "severe_decline": -0.15,
                "crash": -0.2
            },
            "consecutive_red_days": {
                "warning": 3,
                "danger": 5,
                "critical": 7
            },
            "volatility_threshold": {
                "normal": 2.0,
                "high": 3.0,
                "extreme": 4.0
            }
        },
        "progressive_defensive_actions": {
            "mild_decline": {
                "reduce_position_size": 0.8,
                "tighten_stop_loss": 0.02,
                "increase_cash_ratio": 0.85,
                "disable_high_risk_buys": false,
                "max_positions_per_stock": 5
            },
            "moderate_decline": {
                "reduce_position_size": 0.6,
                "tighten_stop_loss": 0.04,
                "increase_cash_ratio": 0.9,
                "disable_high_risk_buys": true,
                "max_positions_per_stock": 3,
                "emergency_partial_sell": 0.0
            },
            "severe_decline": {
                "reduce_position_size": 0.4,
                "tighten_stop_loss": 0.06,
                "increase_cash_ratio": 0.95,
                "disable_high_risk_buys": true,
                "max_positions_per_stock": 2,
                "emergency_partial_sell": 0.3
            },
            "crash": {
                "suspend_all_buys": true,
                "emergency_sell_ratio": 0.7,
                "activate_bear_market_mode": true,
                "increase_cash_ratio": 0.98
            }
        },
        "bear_market_mode": {
            "enable": true,
            "activation_threshold": -0.2,
            "deactivation_threshold": 0.1,
            "settings": {
                "suspend_new_positions": true,
                "only_defensive_stocks": true,
                "max_investment_ratio": 0.3,
                "strict_stop_loss": true,
                "daily_position_review": true
            }
        },
        "volatility_spike_protection": {
            "enable": true,
            "daily_range_threshold": 0.05,
            "actions": {
                "reduce_leverage": true,
                "increase_stop_loss": 0.03,
                "defer_new_entries": 24
            }
        },
        "recovery_detection": {
            "enable": true,
            "recovery_signals": {
                "consecutive_green_days": 3,
                "volume_confirmation": true,
                "breadth_improvement": true
            },
            "gradual_reentry": {
                "phase_1": 0.3,
                "phase_2": 0.6,
                "phase_3": 1.0
            }
        }
    },
    "commission_rate": 0.00015,
    "tax_rate": 0.0023,
    "special_tax_rate": 0.0015,
    "rsi_period": 14,
    "atr_period": 14,
    "pullback_rate": 5,
    "rsi_lower_bound": 30,
    "rsi_upper_bound": 78,
    "ma_short": 5,
    "ma_mid": 20,
    "ma_long": 60,
    "target_stocks": {
        "005930": {
            "name": "ì‚¼ì„±ì „ì",
            "weight": 0.333,
            "stock_type": "blue_chip",
            "period": 90,
            "recent_period": 20,
            "recent_weight": 0.6,
            "hold_profit_target": 8,
            "quick_profit_target": 4,
            "base_profit_target": 12,
            "safety_protection_ratio": 0.92,
            "time_based_sell_days": 60,
            "partial_sell_ratio": 0.5,
            "min_holding": 0,
            "reentry_cooldown_base_hours": 8,
            "min_pullback_for_reentry": 1.8,
            "volatility_cooldown_multiplier": 0.8,
            "market_cooldown_adjustment": true,
            "enable_sequential_validation": true,
            "dynamic_drop_adjustment": true,
            "uptrend_sell_ratio_multiplier": 0.8,
            "high_profit_sell_reduction": true,
            "rsi_upper_bound": 75
        },
        "007660": {
            "name": "ì´ìˆ˜í˜íƒ€ì‹œìŠ¤",
            "weight": 0.333,
            "stock_type": "high_volatility",
            "period": 60,
            "recent_period": 30,
            "recent_weight": 0.7,
            "hold_profit_target": 6,
            "quick_profit_target": 4,
            "base_profit_target": 10,
            "safety_protection_ratio": 0.9,
            "time_based_sell_days": 30,
            "partial_sell_ratio": 0.3,
            "min_holding": 0,
            "reentry_cooldown_base_hours": 4,
            "min_pullback_for_reentry": 3.0,
            "volatility_cooldown_multiplier": 0.4,
            "market_cooldown_adjustment": true,
            "enable_sequential_validation": true,
            "dynamic_drop_adjustment": true,
            "uptrend_sell_ratio_multiplier": 0.5,
            "high_profit_sell_reduction": true,
            "rsi_upper_bound": 75
        },
        "403870": {
            "name": "HPSP",
            "weight": 0.334,
            "stock_type": "high_volatility",
            "period": 60,
            "recent_period": 30,
            "recent_weight": 0.7,
            "hold_profit_target": 6,
            "quick_profit_target": 4,
            "base_profit_target": 10,
            "safety_protection_ratio": 0.9,
            "time_based_sell_days": 30,
            "partial_sell_ratio": 0.3,
            "min_holding": 0,
            "reentry_cooldown_base_hours": 4,
            "min_pullback_for_reentry": 3.0,
            "volatility_cooldown_multiplier": 0.4,
            "market_cooldown_adjustment": true,
            "enable_sequential_validation": true,
            "dynamic_drop_adjustment": true,
            "uptrend_sell_ratio_multiplier": 0.5,
            "high_profit_sell_reduction": true,
            "rsi_upper_bound": 75
        }
    },
    "performance_tracking": {
        "start_date": "2025-09-05",
        "best_performance": 0.016650851199190575,
        "worst_performance": -0.004525421000590206,
        "total_trades": 3,
        "winning_trades": 3,
        "total_realized_pnl": 8800.0,
        "enhanced_metrics": {
            "cooldown_prevented_buys": 0,
            "sequential_blocked_buys": 57169,
            "broker_sync_corrections": 0,
            "average_hold_days": 0,
            "partial_sell_count": 0,
            "stop_loss_executions": 0,
            "emergency_stops": 0,
            "stop_loss_savings": 0.0,
            "downtrend_protections_activated": 0,
            "emergency_sells_executed": 0,
            "bear_market_mode_activations": 0
        }
    },
    "use_discord_alert": true,
    "last_config_update": "2025-09-19T09:25:28.127450",
    "_readme_enhanced": {
        "ë²„ì „": "Enhanced 6.0 - í•˜ë½ ë³´í˜¸ ì‹œìŠ¤í…œ ì™„ì „ í†µí•©",
        "ì£¼ìš”_ê°œì„ ì‚¬í•­": {
            "í•˜ë½_ë³´í˜¸_ì‹œìŠ¤í…œ": "ğŸ†• ì¶”ì„¸ì  í•˜ë½ ëŒ€ë¹„ 4ë‹¨ê³„ ì ì§„ì  ë³´í˜¸ ì‹œìŠ¤í…œ",
            "ë² ì–´ë§ˆì¼“_ëª¨ë“œ": "ğŸ†• í¬ë˜ì‹œ ìˆ˜ì¤€(-20%) í•˜ë½ ì‹œ ìë³¸ ë³´ì¡´ ëª¨ë“œ",
            "ë³€ë™ì„±_ìŠ¤íŒŒì´í¬_ë³´í˜¸": "ğŸ†• ê¸‰ê²©í•œ ë³€ë™ì„± ì¦ê°€ ì‹œ 24ì‹œê°„ ì§„ì… ì—°ê¸°",
            "ì‘ê¸‰_ë§¤ë„_ì‹œìŠ¤í…œ": "ğŸ†• ì‹¬ê°í•œ í•˜ë½ ì‹œ ìë™ ë¶€ë¶„/ì „ì²´ ë§¤ë„",
            "íšŒë³µ_ê°ì§€_ì¬ì§„ì…": "ğŸ†• ì‹œì¥ íšŒë³µ ê°ì§€ ì‹œ ë‹¨ê³„ì  ì¬ì§„ì…",
            "ì°¨íŠ¸_ë¶„ì„_ì™„ì „ë°˜ì˜": "ğŸ†• ì‹¤ì‹œê°„ ì°¨íŠ¸ ë°ì´í„° ê¸°ë°˜ ì¢…ëª©ë³„ ê°œë³„ ìµœì í™”",
            "ì§„ì…_ê¸°íšŒ_ê·¹ëŒ€í™”": "ğŸ†• í•˜ë½ë¥  ìš”êµ¬ì‚¬í•­ ì™„í™” (4.0%/4.8%/5.8%/7.0%)",
            "ì†ì ˆ_ì‹œìŠ¤í…œ_í˜ì‹ ": "ğŸ†• ì°¨íŠ¸ íŠ¹ì„± ë°˜ì˜ ì†ì ˆì„  ì™„í™” (-12%/-16%/-20%)",
            "ëª©í‘œ_ìˆ˜ìµë¥ _í˜„ì‹¤í™”": "ğŸ†• í•œí™”ì˜¤ì…˜ 6%, ë‘ì‚°ì—ë„ˆë¹Œë¦¬í‹° 10%, ì‚¼ì„±ì „ì 12%",
            "ì ì‘í˜•_ì¿¨ë‹¤ìš´": "ë§¤ë„ í›„ ì¦‰ì‹œ ì¬ë§¤ìˆ˜ ë°©ì§€ - ìˆ˜ìµë¥ /ë³€ë™ì„±/ì‹œì¥ìƒí™©ë³„ ì°¨ë“±",
            "ìˆœì°¨_ì§„ì…_ê²€ì¦": "ì´ì „ ì°¨ìˆ˜ ë³´ìœ  + ë™ì  í•˜ë½ë¥  ë‹¬ì„± í•„ìˆ˜ í™•ì¸",
            "ê°œì„ ëœ_ì£¼ë¬¸_ì¶”ì ": "ì‹¤ì œ ì²´ê²°ëŸ‰ ì •í™• ê³„ì‚° ë° ë¯¸ì²´ê²° ì£¼ë¬¸ ìë™ ê´€ë¦¬",
            "ë¸Œë¡œì»¤_ë°ì´í„°_ë™ê¸°í™”": "30ë¶„ë§ˆë‹¤ ë¸Œë¡œì»¤-ë‚´ë¶€ ë°ì´í„° ê°•ì œ ì¼ì¹˜"
        },
        "í•˜ë½_ë³´í˜¸_ì‹œìŠ¤í…œ": {
            "4ë‹¨ê³„_ì ì§„ì _ë³´í˜¸": {
                "1ë‹¨ê³„_ê²½ë¯¸í•œ_í•˜ë½": "5-10% í•˜ë½ ì‹œ ë§¤ìˆ˜ëŸ‰ 20% ì¶•ì†Œ, ì†ì ˆì„  2%p ê°•í™”",
                "2ë‹¨ê³„_ì¤‘ê°„_í•˜ë½": "10-15% í•˜ë½ ì‹œ ë§¤ìˆ˜ëŸ‰ 40% ì¶•ì†Œ, 4-5ì°¨ìˆ˜ ì¤‘ë‹¨",
                "3ë‹¨ê³„_ì‹¬ê°í•œ_í•˜ë½": "15-20% í•˜ë½ ì‹œ ë§¤ìˆ˜ëŸ‰ 60% ì¶•ì†Œ, 30% ì‘ê¸‰ ë§¤ë„",
                "4ë‹¨ê³„_í¬ë˜ì‹œ": "20% ì´ìƒ í•˜ë½ ì‹œ ëª¨ë“  ë§¤ìˆ˜ ì¤‘ë‹¨, 70% ì‘ê¸‰ ë§¤ë„"
            },
            "ë² ì–´ë§ˆì¼“_ëª¨ë“œ": {
                "í™œì„±í™”_ì¡°ê±´": "ì½”ìŠ¤í”¼ 20% ì´ìƒ í•˜ë½",
                "ìš´ì˜_ë°©ì‹": "ì‹ ê·œ í¬ì§€ì…˜ ê¸ˆì§€, í˜„ê¸ˆ 70% ì´ìƒ ë³´ì¡´",
                "í•´ì œ_ì¡°ê±´": "10% ì´ìƒ ë°˜ë“± í™•ì¸"
            },
            "ë³€ë™ì„±_ìŠ¤íŒŒì´í¬_ë³´í˜¸": {
                "ê°ì§€_ì¡°ê±´": "ì¼ì¼ ë“±ë½í­ 5% ì´ìƒ ë˜ëŠ” ì—°ì† 5ì¼ í•˜ë½",
                "ëŒ€ì‘_ì¡°ì¹˜": "24ì‹œê°„ ì‹ ê·œ ì§„ì… ì—°ê¸°, ì†ì ˆì„  3%p ê°•í™”"
            }
        },
        "ì˜ˆìƒ_ì„±ê³¼": {
            "ì›”_ìˆ˜ìµë¥ ": "ê¸°ì¡´ 3-5% â†’ ê°œì„  í›„ 5-8% ì˜ˆìƒ",
            "ìŠ¹ë¥ _í–¥ìƒ": "ê¸°ì¡´ 65% â†’ ê°œì„  í›„ 80% ì˜ˆìƒ",
            "ìµœëŒ€_ë‚™í­_ê°ì†Œ": "ê¸°ì¡´ -15% â†’ ê°œì„  í›„ -8% ì˜ˆìƒ (í•˜ë½ ë³´í˜¸ ì ìš©ì‹œ -3%)",
            "ìƒ¤í”„_ë¹„ìœ¨": "0.8 â†’ 1.5 í–¥ìƒ ì˜ˆìƒ (í•˜ë½ ë³´í˜¸ í¬í•¨)",
            "ì—°ê°„_ìˆ˜ìµë¥ ": "30-40% â†’ 50-70% ëª©í‘œ",
            "ë² ì–´ë§ˆì¼“_ìƒì¡´ìœ¨": "90% ì´ìƒ (2008, 2020 ìˆ˜ì¤€ í­ë½ì—ë„ ìƒì¡´)"
        }
    }
}